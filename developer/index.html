<!doctype html>
<html lang="en">
	<head>
		<title>Dashboard</title>
		<!-- Required meta tags -->
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no"
		/>
		<!-- Bootstrap CSS v5.2.1 -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
			crossorigin="anonymous"
		/>
		<link rel="stylesheet" href="/css/base.css"/>
	</head>

	<body class="vh-100 d-flex flex-column overflow-hidden">
		<header class="bg-dimmed-white">
			<nav class="border border-top-0 border-start-0 border-end-0 border-3">
				<div class="container-fluid d-flex py-3 px-3">
					<div class="me-auto">
						<a href="#" class="navbar-brand">
							<img src="/assets/Logo.png" alt="Logo" height="34" class="d-inline-block align-text-top">
						</a>
					</div>
					<div class="d-flex gap-3">
						<div class="d-flex gap-2">
							<div class="d-inline-block bg-divisor-gray rounded-pill" style="width: 3px;"></div>
							<a href="#" class="text-decoration-none">
								<img src="/assets/projects.png" alt="Logo" height="32" class="">
								<span class="align-middle text-gray fw-semibold px-1">My Projects</span>
							</a>
							<div class="d-inline-block bg-divisor-gray rounded-pill" style="width: 3px;"></div>
						</div>
						<img src="/assets/bell.png" alt="Logo" height="32" class="d-inline-block align-text-top">
						<img src="/assets/avatar.png" alt="Logo" height="32" class="d-inline-block align-text-top">
						
					</div>
				</div>
			</nav>
		</header>
		<main class="d-flex h-100 overflow-hidden">
      <!-- Side bar -->
			<div id="sidebar" class="h-100 border border-top-0 border-start-0 border-bottom-0 border-3" style="width: 20%; ">
				<a href="#" id="project-info" class="text-decoration-none d-flex bottom-shadow">
					<div class="d-flex align-items-center justify-content-between w-100 p-4 px-3">
						<div class="d-flex align-items-center gap-2">
							<div class="bg-divisor-gray rounded">
								<img src="/assets/project_placeholder.png" height="32px" alt="Project Image">
							</div>
							<div class="d-flex flex-column lh-sm">
								<div class="fw-semibold text-gray fs-5">
									Project 1
								</div>
								<div class="text-secondary fs-6">
									Subtitle
								</div>
							</div>
						</div>
						<div>
							<img src="/assets/down_arrow.png" alt="Change project" height="20px">
						</div>
					</div>
				</a>
				<div id="tabs" class="d-flex gap-4 py-4 flex-column align-items-center justify-content-center">
					<a href="#" class="bg-tinted-gray text-decoration-none d-flex align-items-center rounded p-2" style="width: 80%;">
						<img src="/assets/dashboard.png" alt="#" height="30" class="">
						<span class="align-middle text-gray fw-semibold px-1">
							Dashboard
						</span>
					</a>

					<a href="#" class=" text-decoration-none d-flex align-items-center rounded p-2" style="width: 80%;">
						<img src="/assets/requirements.png" alt="#" height="30" class="">
						<span class="align-middle text-gray fw-semibold px-1">
							Requirements
						</span>
					</a>

					<a href="#" class=" text-decoration-none d-flex align-items-center rounded p-2" style="width: 80%;">
						<img src="/assets/modules.png" alt="#" height="30" class="">
						<span class="align-middle text-gray fw-semibold px-1">
							Modules
						</span>
					</a>

					<a href="#" class=" text-decoration-none d-flex align-items-center rounded p-2" style="width: 80%;">
						<img src="/assets/releases.png" alt="#" height="30" class="">
						<span class="align-middle text-gray fw-semibold px-1">
							Releases
						</span>
					</a>

					<div class="bg-divisor-gray rounded-pill" style="height: 3px; width: 80%;"></div>

					<a href="#" class=" text-decoration-none d-flex align-items-center rounded p-2" style="width: 80%;">
						<img src="/assets/test_cases.png" alt="#" height="30" class="">
						<span class="align-middle text-gray fw-semibold px-1">
							Test Cases
						</span>
					</a>

					<a href="#" class=" text-decoration-none d-flex align-items-center rounded p-2" style="width: 80%;">
						<img src="/assets/test_plans.png" alt="#" height="30" class="">
						<span class="align-middle text-gray fw-semibold px-1">
							Test Plans
						</span>
					</a>

					<a href="#" class=" text-decoration-none d-flex align-items-center rounded p-2" style="width: 80%;">
						<img src="/assets/test_runs.png" alt="#" height="30" class="">
						<span class="align-middle text-gray fw-semibold px-1">
							Test Runs
						</span>
					</a>

					<a href="./issues/index.html" class=" text-decoration-none d-flex align-items-center rounded p-2" style="width: 80%;">
						<img src="/assets/issues.png" alt="#" height="30" class="">
						<span class="align-middle text-gray fw-semibold px-1">
							Issues
						</span>
					</a>
					
				</div>
			</div>

      <!-- Main content wrapper -->
      <div class="container-fluid m-2">
        <!-- Header -->
        <div class="d-sm-flex align-items-center justify-content-between mb-4">
          <h1 class="h3 mb-0 text-gray-800">Issues</h1>
          <a
            href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i class="fas fa-download fa-sm text-white-50"></i> Generate Report</a>
        </div>

        <!-- Main content -->

        <!-- Content row -->
        <!-- <div class="row justify-content-end my-2">
          <div class="col-auto">
            <div class="input-group">
              <div class="form-outline">
                <input type="search" id="form1" class="form-control" placeholder="Search" />
              </div>
              <button type="button" class="btn btn-primary">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </div>
        </div> -->

        <!-- Content Row -->
        <!-- <div class="row justify-content-end my-2">
          <div class="col-auto">
            <button id="filter-open" type="button" class="btn btn-outline-primary">Open</button>
            <button id="filter-closed" type="button" class="btn btn-outline-secondary">Closed</button>
            <button id="filter-low" type="button" class="btn btn-outline-success">Low</button>
            <button id="filter-medium" type="button" class="btn btn-outline-warning">Medium</button>
            <button id="filter-high" type="button" class="btn btn-outline-danger">High</button>
          </div>
        </div> -->

        <!-- Content Row -->
        <!-- <div class="row my-2">
          <table class="table table-striped table-bordered table-hover" cellspacing="0" width="100%">
            <thead>
              <tr>
                <td>Select</td>
                <td>ID</td>
                <td>Title</td>
                <td>Created by</td>
                <td>Assigned to</td>
                <td>Status</td>
                <td>Priority</td>
                <td>Created Date</td>
              </tr>
            </thead>
            <tbody id="table-body">
            </tbody>
          </table>
        </div>
      </div> -->

		</main>
		<footer>
			<!-- place footer here -->
		</footer>
		<!-- Bootstrap JavaScript Libraries -->
		<script
			src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
			integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
			crossorigin="anonymous"
		></script>

    <!-- Scripts -->
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
			integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
			crossorigin="anonymous"
		></script>

    <script src="/js/user/user.js"></script>

    <!-- <script>
      const fetchTable = async () => {
        const resp = await fetch("/static/issues.json");
        return await resp.json();
      }

      const populateTable = async () => {
        const tableBody = document.getElementById("table-body");
        const users = await fetchUsers();
        const tableData = await fetchTable();

        // Clear existing table rows
        tableBody.innerHTML = "";

        // Loop through tableData array
        tableData.forEach(data => {
          // Create a new row
          const row = document.createElement("tr");

          // Create a cell for each data item
          const checkboxCell = document.createElement("td");
          const idCell = document.createElement("td");
          const titleCell = document.createElement("td");
          const createdByCell = document.createElement("td");
          const assignedToCell = document.createElement("td");
          const statusCell = document.createElement("td");
          const priorityCell = document.createElement("td");
          const createdDateCell = document.createElement("td");

          // Set the innerHTML of each cell
          checkboxCell.innerHTML = `<input type="checkbox">`;
          titleCell.textContent = data.title;
          statusCell.textContent = data.status_;
          priorityCell.textContent = data.priority;
          createdDateCell.textContent = data.createdDate;

          // ID
          const url = document.createElement("a");
          url.innerText = data.id;
          url.href = data.url;
          idCell.appendChild(url);

          // Created by
          const createdByAvatar = document.createElement("img");
          createdByAvatar.src = users[data.createdBy].avatar;
          createdByAvatar.classList.add("rounded-circle");
          createdByAvatar.style.maxHeight = "25px";
          createdByCell.appendChild(createdByAvatar);

          // Assigned to
          const assignedToAvatar = document.createElement("img");
          assignedToAvatar.src = users[data.assignedTo].avatar;
          assignedToAvatar.classList.add("rounded-circle");
          assignedToAvatar.style.maxHeight = "25px";
          assignedToCell.appendChild(assignedToAvatar);

          // Status
          if (data.status_ === "open") {
            statusCell.classList.add("text-primary");
          } else if (data.status_ === "closed") {
            statusCell.classList.add("text-secondary");
          }

          // Priority
          if (data.priority === "high") {
            priorityCell.classList.add("text-danger");
          } else if (data.priority === "medium") {
            priorityCell.classList.add("text-warning");
          } else if (data.priority === "low") {
            priorityCell.classList.add("text-success");
          }

          // Append cells to the row
          row.appendChild(checkboxCell);
          row.appendChild(idCell);
          row.appendChild(titleCell);
          row.appendChild(createdByCell);
          row.appendChild(assignedToCell);
          row.appendChild(statusCell);
          row.appendChild(priorityCell);
          row.appendChild(createdDateCell);

          // Append row to table body
          tableBody.appendChild(row);
        });
      }
    </script> -->

    <script>populateTable()</script>
	</body>
</html>